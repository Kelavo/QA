# План автоматизации тестирования

### Перечень автоматизируемых сценариев

Валидными данными следует считать:

1. Номер карты: цифровые символы, 16 шт., в формате **** **** **** ****
2. Месяц: 01-12, но не ранее текущего месяца, если указан текущий год
3. Год: последние две цифры порядкового номера года, не ранее текущего года и не больше 5-ти лет от текущего года
4. Владелец: буквенные символы латинского алфавита и дефис
5. CVC: цифровые символы, 3 шт.

В качестве тестовых карт использовались данные из файла data.json:

* 4444 4444 4444 4441, status APPROVED
* 4444 4444 4444 4442, status DECLINED

Способы оплаты покупки тура:

1. Оплата по дебетовой карте
2. Кредит по данным банковской карты

### Тестовые сценарии

**Позитивные сценарии**

*№1. Оплата по карте - статус APPROVED*

1. Открыть приложение [localhost:8080](http://localhost:8080/)
2. Кликнуть на кнопку "Купить"
3. Ввести номер карты 4444 4444 4444 4441
4. Поля "Месяц", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями
5. Кликнуть на кнопку "Продолжить"

**Ожидаемый результат:** выводится всплывающее окно "Операция одобрена Банком", в БД в payment_entity появляется запись
со статусом APPROVED

*№2. Оплата по карте - статус DECLINED*

1. Открыть приложение [localhost:8080](http://localhost:8080/)
2. Кликнуть на кнопку "Купить"
3. Ввести номер карты 4444 4444 4444 4442
4. Поля "Месяц", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями
5. Кликнуть на кнопку "Продолжить"

**Ожидаемый результат:** выводится всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity
появляется запись со статусом DECLINED

*№3. Кредит по данным банковской карты - статус APPROVED*

1. Открыть приложение [localhost:8080](http://localhost:8080/)
2. Кликнуть на кнопку "Купить в кредит"
3. Ввести номер карты 4444 4444 4444 4441
4. Поля "Месяц", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями
5. Кликнуть на кнопку "Продолжить"

**Ожидаемый результат:** выводится всплывающее окно "Операция одобрена Банком", в БД в credit_request_entity появляется
запись со статусом APPROVED

*№4. Кредит по данным банковской карты - статус DECLINED*

1. Открыть приложение [localhost:8080](http://localhost:8080/)
2. Кликнуть на кнопку "Купить в кредит"
3. Ввести номер карты 4444 4444 4444 4442
4. Поля "Месяц", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями
5. Кликнуть на кнопку "Продолжить"

**Ожидаемый результат:** выводится всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в
credit_request_entity появляется запись со статусом DECLINED

**Негативные сценарии**

*№1. Оплата по карте - отправка заявки без данных*

1. Открыть приложение [localhost:8080](http://localhost:8080/)
2. Кликнуть на кнопку "Купить"
3. Кликнуть на кнопку "Продолжить" не заполняя никакие данные

**Ожидаемый результат:** появляются сообщения об ошибках и необходимости заполнения обязательных полей, в БД в
payment_entity новая запись не появляется

*№2. Кредит по данным банковской карты - отправка заявки без данных*

1. Открыть приложение [localhost:8080](http://localhost:8080/)
2. Кликнуть на кнопку "Купить в кредит"
3. Кликнуть на кнопку "Продолжить" не заполняя никакие данные

**Ожидаемый результат:** появляются сообщения об ошибках и необходимости заполнения обязательных полей, в БД в
credit_request_entity новая запись не появляется

*№3. Оплата по карте - заполнение поля "Номер карты"*

1. Открыть приложение [localhost:8080](http://localhost:8080/)
2. Кликнуть на кнопку "Купить"
3. В поле "Номер карты" ввести:

* номер несуществующей карты - 4444 4444 4444 4443;
* все нули - 0000 0000 0000 0000;
* 5 цифр - 4444 4;
* 17 цифр - 4444 4444 4444 4441 5;
* текст;
* пустое поле;

4. Поля "Месяц", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями
5. Кликнуть на кнопку "Продолжить"

**Ожидаемый результат:**

* выводится всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity новая запись не
  появляется
* выводится всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity новая запись не
  появляется
* под полем "Номер карты" выводится сообщение об ошибке "Неверный формат", в БД в payment_entity новая запись не
  появляется
* невозможно ввести больше 16 цифр
* невозможно ввести текст
* под полем "Номер карты" выводится сообщение об ошибке "Неверный формат", в БД в payment_entity новая запись не
  появляется

*№4. Кредит по данным банковской карты - заполнение поля "Номер карты"*

1. Открыть приложение [localhost:8080](http://localhost:8080/)
2. Кликнуть на кнопку "Купить в кредит"
3. В поле "Номер карты" ввести:

* номер несуществующей карты - 4444 4444 4444 4443;
* все нули - 0000 0000 0000 0000;
* 5 цифр - 4444 4;
* 17 цифр - 4444 4444 4444 4441 5;
* текст;
* пустое поле;

4. Поля "Месяц", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями
5. Кликнуть на кнопку "Продолжить"

**Ожидаемый результат:**

* выводится всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в credit_request_entity новая запись не
  появляется
* выводится всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в credit_request_entity новая запись не
  появляется
* под полем "Номер карты" выводится сообщение об ошибке "Неверный формат", в БД в credit_request_entity новая запись не
  появляется
* невозможно ввести больше 16 цифр
* невозможно ввести текст
* под полем "Номер карты" выводится сообщение об ошибке "Неверный формат", в БД в credit_request_entity новая запись не
  появляется

*№5. Оплата по карте - заполнение поля "Месяц"*

1. Открыть приложение [localhost:8080](http://localhost:8080/)
2. Кликнуть на кнопку "Купить"
3. В поле "Месяц" ввести:

* несуществующий месяц - 33;
* все нули - 00;
* прошедщий месяц;
* 1 цифру - 5;
* текст;
* пустое поле;

4. Поля "Номер карты", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями
5. Кликнуть на кнопку "Продолжить"

**Ожидаемый результат:**

* под полем "Месяц" выводится сообщение об ошибке "Неверно указан срок действия карты", в БД в payment_entity новая
  запись не появляется
* под полем "Месяц" выводится сообщение об ошибке "Неверно указан срок действия карты", в БД в payment_entity новая
  запись не появляется
* под полем "Месяц" выводится сообщение об ошибке "Неверно указан срок действия карты", в БД в payment_entity новая
  запись не появляется
* под полем "Месяц" выводится сообщение об ошибке "Неверный формат", в БД в payment_entity новая запись не появляется
* невозможно ввести текст
* под полем "Месяц" выводится сообщение об ошибке "Неверный формат", в БД в payment_entity новая запись не появляется

*№6. Кредит по данным банковской карты - заполнение поля "Месяц"*

1. Открыть приложение [localhost:8080](http://localhost:8080/)
2. Кликнуть на кнопку "Купить в кредит"
3. В поле "Месяц" ввести:

* несуществующий месяц - 33;
* все нули - 00;
* прошедщий месяц;
* 1 цифру - 5;
* текст;
* пустое поле;

4. Поля "Номер карты", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями
5. Кликнуть на кнопку "Продолжить"

**Ожидаемый результат:**

* под полем "Месяц" выводится сообщение об ошибке "Неверно указан срок действия карты", в БД в credit_request_entity
  новая запись не появляется
* под полем "Месяц" выводится сообщение об ошибке "Неверно указан срок действия карты", в БД в credit_request_entity
  новая запись не появляется
* под полем "Месяц" выводится сообщение об ошибке "Неверно указан срок действия карты", в БД в credit_request_entity
  новая запись не появляется
* под полем "Месяц" выводится сообщение об ошибке "Неверный формат", в БД в credit_request_entity новая запись не
  появляется
* невозможно ввести текст
* под полем "Месяц" выводится сообщение об ошибке "Неверный формат", в БД в credit_request_entity новая запись не
  появляется

*№7. Оплата по карте - заполнение поля "Год"*

1. Открыть приложение [localhost:8080](http://localhost:8080/)
2. Кликнуть на кнопку "Купить"
3. В поле "Год" ввести:

* прошедщий год - 20;
* свыше 5 лет - 28;
* все нули - 00;
* 1 цифру - 5;
* текст;
* пустое поле;

4. Поля "Номер карты", "Месяц", "Владелец", "CVC/CVV" заполнить валидными значениями
5. Кликнуть на кнопку "Продолжить"

**Ожидаемый результат:**

* под полем "Год" выводится сообщение об ошибке "Истёк срок действия карты", в БД в payment_entity новая запись не
  появляется
* под полем "Год" выводится сообщение об ошибке "Неверно указан срок действия карты", в БД в payment_entity новая запись
  не появляется
* под полем "Год" выводится сообщение об ошибке "Истёк срок действия карты", в БД в payment_entity новая запись не
  появляется
* под полем "Год" выводится сообщение об ошибке "Неверный формат", в БД в payment_entity новая запись не появляется
* невозможно ввести текст
* под полем "Год" выводится сообщение об ошибке "Неверный формат", в БД в payment_entity новая запись не появляется

*№8. Кредит по данным банковской карты - заполнение поля "Год"*

1. Открыть приложение [localhost:8080](http://localhost:8080/)
2. Кликнуть на кнопку "Купить в кредит"
3. В поле "Год" ввести:

* прошедщий год - 20;
* свыше 5 лет - 28;
* все нули - 00;
* 1 цифру - 5;
* текст;
* пустое поле;

4. Поля "Номер карты", "Месяц", "Владелец", "CVC/CVV" заполнить валидными значениями
5. Кликнуть на кнопку "Продолжить"

**Ожидаемый результат:**

* под полем "Год" выводится сообщение об ошибке "Истёк срок действия карты", в БД в payment_entity новая запись не
  появляется
* под полем "Год" выводится сообщение об ошибке "Неверно указан срок действия карты", в БД в payment_entity новая запись
  не появляется
* под полем "Год" выводится сообщение об ошибке "Истёк срок действия карты", в БД в payment_entity новая запись не
  появляется
* под полем "Год" выводится сообщение об ошибке "Неверный формат", в БД в payment_entity новая запись не появляется
* невозможно ввести текст
* под полем "Год" выводится сообщение об ошибке "Неверный формат", в БД в payment_entity новая запись не появляется

*№9. Оплата по карте - заполнение поля "Владелец"*

1. Открыть приложение [localhost:8080](http://localhost:8080/)
2. Кликнуть на кнопку "Купить"
3. В поле "Владелец" ввести:

* ФИО на русском языке;
* 33 буквы;
* 1 букву;
* цифры;
* HTML-тег;
* пустое поле;

4. Поля "Номер карты", "Месяц", "Год", "CVC/CVV" заполнить валидными значениями
5. Кликнуть на кнопку "Продолжить"

**Ожидаемый результат:**

* под полем "Владелец" выводится сообщение об ошибке "Неверный формат", в БД в payment_entity новая запись не появляется
* под полем "Владелец" выводится сообщение об ошибке "Неверный формат", в БД в payment_entity новая запись не появляется
* под полем "Владелец" выводится сообщение об ошибке "Неверный формат", в БД в payment_entity новая запись не появляется
* под полем "Владелец" выводится сообщение об ошибке "Неверный формат", в БД в payment_entity новая запись не появляется
* под полем "Владелец" выводится сообщение об ошибке "Неверный формат", в БД в payment_entity новая запись не появляется
* под полем "Владелец" выводится сообщение об ошибке "Поле обязательно для заполнения", в БД в payment_entity новая
  запись не появляется

*№10. Кредит по данным банковской карты - заполнение поля "Владелец"*

1. Открыть приложение [localhost:8080](http://localhost:8080/)
2. Кликнуть на кнопку "Купить в кредит"
3. В поле "Владелец" ввести:

* ФИО на русском языке;
* 33 буквы;
* 1 букву;
* цифры;
* HTML-тег;
* пустое поле;

4. Поля "Номер карты", "Месяц", "Год", "CVC/CVV" заполнить валидными значениями
5. Кликнуть на кнопку "Продолжить"

**Ожидаемый результат:**

* под полем "Владелец" выводится сообщение об ошибке "Неверный формат", в БД в credit_request_entity новая запись не
  появляется
* под полем "Владелец" выводится сообщение об ошибке "Неверный формат", в БД в credit_request_entity новая запись не
  появляется
* под полем "Владелец" выводится сообщение об ошибке "Неверный формат", в БД в credit_request_entity новая запись не
  появляется
* под полем "Владелец" выводится сообщение об ошибке "Неверный формат", в БД в credit_request_entity новая запись не
  появляется
* под полем "Владелец" выводится сообщение об ошибке "Неверный формат", в БД в credit_request_entity новая запись не
  появляется
* под полем "Владелец" выводится сообщение об ошибке "Поле обязательно для заполнения", в БД в credit_request_entity
  новая запись не появляется

*№11. Оплата по карте - заполнение поля "CVC/CVV"*

1. Открыть приложение [localhost:8080](http://localhost:8080/)
2. Кликнуть на кнопку "Купить"
3. В поле "CVC/CVV" ввести:

* нули - 000;
* две цифры - 12;
* буквы;
* пустое поле;

4. Поля "Номер карты", "Месяц", "Год", "Владелец" заполнить валидными значениями
5. Кликнуть на кнопку "Продолжить"

**Ожидаемый результат:**

* под полем "CVC/CVV" выводится сообщение об ошибке "Указаны некорректные данные", в БД в payment_entity новая запись не
  появляется
* под полем "CVC/CVV" выводится сообщение об ошибке "Неверный формат", в БД в payment_entity новая запись не появляется
* невозможно ввести текст
* под полем "CVC/CVV" выводится сообщение об ошибке "Неверный формат", в БД в payment_entity новая запись не появляется

*№12. Кредит по данным банковской карты - заполнение поля "CVC/CVV"*

1. Открыть приложение [localhost:8080](http://localhost:8080/)
2. Кликнуть на кнопку "Купить в кредит"
3. В поле "CVC/CVV" ввести:

* нули - 000;
* две цифры - 12;
* буквы;
* пустое поле;

4. Поля "Номер карты", "Месяц", "Год", "Владелец" заполнить валидными значениями
5. Кликнуть на кнопку "Продолжить"

**Ожидаемый результат:**

* под полем "CVC/CVV" выводится сообщение об ошибке "Указаны некорректные данные", в БД в credit_request_entity новая
  запись не появляется
* под полем "CVC/CVV" выводится сообщение об ошибке "Неверный формат", в БД в credit_request_entity новая запись не
  появляется
* невозможно ввести текст
* под полем "CVC/CVV" выводится сообщение об ошибке "Неверный формат", в БД в credit_request_entity новая запись не
  появляется

### Перечень используемых инструментов

* IntelliJ IDEA – удобная и понятная интегрированная среда разработки программного обеспечения
* Java version 11 - гибкий и универсальный язык программирования
* Gradle - необходимая система для автоматизации сборки приложений
* JUnit5 - библиотека для модульного тестирования программного обеспечения на Java
* Selenide - простой и мощный инструмент ориентированный на быструю автоматизацию тестирования, написанная на Java
* Docker - программная платформа для быстрой разработки, тестирования и развертывания приложений.
* Docker Compose - используется для одновременного управления несколькими контейнерами, входящими в состав приложения
* Github - свободный сервис для совместной разработки и хостинга проектов
* MySQL - обязательная система управления базами данных (СУБД)
* PostgreSQL - дополнительная система управления базами данных (СУБД)
* JavaFaker - библиотека для генерации случайных данных необходимых при тестировании
* Lombok - библиотека Java, которая сокращает объем стандартного кода
* Allure - фреймворк, предназначенный для создания простых и понятных отчетов автотестов

### Перечень и описание возможных рисков при автоматизации

* Отсутствует ТЗ, не понятно как должно работать приложение. Какое поведение допустимо.
* Возможны проблемы из-за необходимости настройки и поддержки двух СУБД (MySQL, Postgres)
* Реальная система и реальные данные скорее всего будут отличаться от SUT
* Тестовый режим нужно отдельно поддерживать и актуализировать, что требует доп. затрат
* Отсутствие test_id усложняет написание и поддержку тестов

### Интервальная оценка с учётом рисков (в часах)

* Настройка СУБД, запуск приложения - 14 часов
* Написание автотестов - 40 часов
* Прогон автотестов - 5 часов
* Оформление баг-репорта - 6 часов
* Подготовка отчета по итогам тестирования - 5 часов
* Подготовка отчета по итогам автоматизации - 5 часов
* Интервальная оценка: 75 часов

### План сдачи работ

1. Планирование автоматизации тестирования - 01.02.2023 - 03.02.2023г.
2. Непосредственно сама автоматизация - 04.02.2023 - 16.02.2023 г.
3. Подготовке отчётных документов по итогам автоматизированного тестирования - 17.02.2023 - 18.02.2023г.
4. Подготовка отчётных документов по итогам автоматизации - 19.02.2023 - 20.02.2023г.
